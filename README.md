В приложении использованы:
- Spring Boot
- Spring Web
- Spring Websocket (для мгновенного обмена сообщениями в чате)
- Spring Data Jpa + Hibernate для работы с БД
- H2/PSQL
- Сервер приложений -- встроенный tomcat
- Flyway для миграций

### Сборка и запуск

30 мая 2024 года Docker решил надуть губу и закрыть доступ к хабу из РФ. Поэтому есть два способа запустить приложение: с докером или без него.

В любом случае, сначала надо скопировать репу и провалиться в нее:

`git clone git@github.com:attebjorner/webchat-demo.git && cd webchat-demo`

#### Без докера
Для запуска на Вашем компьютере должны быть установлены maven и JDK минимум 17-ой версии. По умолчанию приложение поднимается с H2, чтобы не надо было поднимать постгрю, если у Вас ее нет. Можно изменить в application.yml на PostgreSQL. 

1. Собираем jar-ник: `mvn clean install`
2. Запускаем: `java -jar webchat-1.0.0.jar`

#### С докером
Нужен предустановленный Docker и Docker compose. Есть два варианта запуска, с H2 или с PSQL.
Достаточно запустить нужный сервис:

`docker-compose up backend-psql` или `docker-compose up backend-h2`

### Как пользоваться 

1. Запустить приложение
2. Перейти на `localhost:8080`
3. Ввести имя пользователя, нажать `Connect`, подождать, пока кнопка `Connect` станет disabled или загрузятся предыдущие сообщения (если они есть)
4. Можно отправлять сообщения в соответствующем окне
5. Можно открыть несколько вкладок и посмотреть, что сообщения мгновенно отправляются всем пользователям
6. Также можно проверить, что при открытии новой сессии в чат подгружаются все предыдущие сообщения

Сообщения в БД хранятся в Base64.

Также прикладываю небольшое [видео (ссылка)](https://hub.2853.org/s/A2gS4c3RX7cXdaM) с демо приложения. 
